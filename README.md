# Windsurf-MCP-Bridge

ç¨³å®šçš„ MCP æµè§ˆå™¨ä¸­å°æœåŠ¡ï¼Œä¸º Windsurf æä¾›æŒä¹…åŒ–ã€å¯å¤ç”¨çš„æµè§ˆå™¨æ“ä½œèƒ½åŠ›ã€‚

## ç‰¹æ€§

- ğŸ”— **SSE è¿æ¥** - åŸºäº HTTP + SSE åè®®ï¼Œæ¯” stdio æ›´ç¨³å®š
- ğŸª **çŠ¶æ€æŒä¹…åŒ–** - ä¿æŒç™»å½•çŠ¶æ€ï¼Œè·¨çª—å£å…±äº«
- ğŸ“¸ **æˆªå›¾èƒ½åŠ›** - AI å¯"çœ‹è§"ç½‘é¡µ
- ğŸ” **æ—¥å¿—é€ä¼ ** - å®æ—¶è·å– console è¾“å‡º
- ğŸ›¡ï¸ **è¿›ç¨‹å®ˆæŠ¤** - PM2 è‡ªåŠ¨é‡å¯

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
npx playwright install chromium
npm run build
```

### 2. ä¸€é”®å¯åŠ¨

**Windows ç”¨æˆ·** - åŒå‡» `start.bat`

**å‘½ä»¤è¡Œå¯åŠ¨**
```bash
npm start
```

å¯åŠ¨åä¼šè‡ªåŠ¨è¾“å‡º MCP é…ç½®ï¼Œç›´æ¥å¤åˆ¶å³å¯ï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Windsurf MCP Bridge - ä¸€é”®å¯åŠ¨                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ å¤åˆ¶ä»¥ä¸‹é…ç½®åˆ° Windsurf MCP è®¾ç½®ä¸­:

{
  "mcpServers": {
    "stable-browser": {
      "type": "sse",
      "url": "http://localhost:3210/sse"
    }
  }
}
```

### 3. åå°è¿è¡Œ (PM2)

```bash
npm run pm2:start
```

## å¯ç”¨å·¥å…·

| å·¥å…· | æè¿° |
|------|------|
| `navigate` | è·³è½¬è‡³æŒ‡å®šç½‘å€ |
| `click` | ç‚¹å‡»é¡µé¢å…ƒç´  |
| `type` | è¾“å…¥æ–‡æœ¬ |
| `take_screenshot` | æˆªå–é¡µé¢æˆªå›¾ |
| `get_console_logs` | è·å–æ§åˆ¶å°æ—¥å¿— |
| `get_network` | è·å–ç½‘ç»œè¯·æ±‚ |
| `execute_js` | æ‰§è¡Œ JavaScript |

## ç›®å½•ç»“æ„

```
windsurf-mcp-bridge/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ browser.ts    # Playwright æµè§ˆå™¨ç®¡ç†
â”‚   â”œâ”€â”€ server.ts     # Express + SSE æœåŠ¡
â”‚   â”œâ”€â”€ tools.ts      # MCP å·¥å…·å®šä¹‰
â”‚   â”œâ”€â”€ types.ts      # TypeScript ç±»å‹
â”‚   â””â”€â”€ schemas.ts    # Zod éªŒè¯
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ user_data/    # æµè§ˆå™¨ç¼“å­˜
â”‚   â””â”€â”€ screenshots/  # æˆªå›¾æ–‡ä»¶
â””â”€â”€ ecosystem.config.cjs  # PM2 é…ç½®
```

## ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶æŒ‰éœ€ä¿®æ”¹ï¼š

| å˜é‡ | é»˜è®¤å€¼ | æè¿° |
|------|--------|------|
| `PORT` | 3000 | æœåŠ¡ç«¯å£ |
| `HEADLESS` | false | æ— å¤´æ¨¡å¼ |
| `USER_DATA_DIR` | storage/user_data | ç”¨æˆ·æ•°æ®ç›®å½• |
| `DEVTOOLS` | true | è‡ªåŠ¨æ‰“å¼€ Chrome DevTools |
| `SLOW_MO` | 0 | æ“ä½œå»¶è¿Ÿ(ms)ï¼Œ0=æœ€å¿« |

## æ€§èƒ½ä¼˜åŒ–

æœåŠ¡å·²å†…ç½®å¤§é‡æ€§èƒ½ä¼˜åŒ–å‚æ•°ï¼š

- **ç¦ç”¨ä¸å¿…è¦çš„ Chrome åŠŸèƒ½**: æ‰©å±•ã€åŒæ­¥ã€åå°ç½‘ç»œç­‰
- **å†…å­˜ä¼˜åŒ–**: é™åˆ¶ V8 å †å¤§å°
- **DevTools æ”¯æŒ**: å¯é€šè¿‡ `DEVTOOLS=true` å¯ç”¨è¿œç¨‹è°ƒè¯•ç«¯å£ 9222
- **é›¶å»¶è¿Ÿæ¨¡å¼**: `SLOW_MO=0` ç¡®ä¿æœ€å¿«æ“ä½œé€Ÿåº¦

## PM2 å‘½ä»¤

```bash
npm run pm2:start    # å¯åŠ¨
npm run pm2:stop     # åœæ­¢
npm run pm2:restart  # é‡å¯
npm run pm2:logs     # æŸ¥çœ‹æ—¥å¿—
```
